[{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"concurrent-task-limit","dir":"","previous_headings":"","what":"CONCURRENT TASK LIMIT","title":"Claude Code Instructions","text":"Maximum 5 background tasks running simultaneously launching multiple agents (e.g., mass audits), batch groups 5 Wait current batch complete launching next batch","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"git-commits-and-prs","dir":"","previous_headings":"","what":"Git Commits and PRs","title":"Claude Code Instructions","text":"NEVER reference Claude, Claude Code, AI assistance commit messages NEVER reference Claude, Claude Code, AI assistance PR descriptions NEVER add Co-Authored-lines mentioning Claude Anthropic Keep commit messages focused changed, written","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pyvaschooldata && pytest tests/test_pyvaschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pyvaschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"graduation-rate-data-stage-1-research-complete","dir":"","previous_headings":"","what":"Graduation Rate Data (Stage 1 Research Complete)","title":"Claude Code Instructions","text":"Status: Ready Stage 2 (TDD Implementation) Research Date: 2026-01-07 Full Research Report: /Users/almartin/Documents/state-schooldata/docs/VA-GRADUATION-RESEARCH.md","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"data-source","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Data Source","title":"Claude Code Instructions","text":"Virginia graduation rate data available via Virginia Open Data Portal (CKAN API): Portal: https://data.virginia.gov API: https://data.virginia.gov/api/3/action/package_search Organization: Department Education Contact: Susan.M.Williams@doe.virginia.gov Authentication: None required (public) Data Format: CSV","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"available-years","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Available Years","title":"Claude Code Instructions","text":"5 years available (2019-2023): URLs verified working (2026-01-07).","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"schema-structure","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Schema Structure","title":"Claude Code Instructions","text":"Two eras identified: Schema change detection:","code":"detect_grad_era <- function(raw_data) {   if (\"Level\" %in% names(raw_data)) {     return(\"v2\")  # 2023+   } else {     return(\"v1\")  # 2019-2022   } }"},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"column-names-v2---2023","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Column Names (v2 - 2023+)","title":"Claude Code Instructions","text":"Cohort Year Level (NEW v2 - “School” “State”) Division Number Division Name School Number School Name Type Graduation Rate Rate Type Graduation Rate Students Cohort Total Graduates 12-19. Diploma Types (Advanced Studies, IB, Standard, , Applied Studies, GED, ISAEP, Certificate) Completion Rate Dropout Rate Dropouts Still Enrolled Long-Term Absence v1 (2019-2022): v2 “Level” column (columns shifted left 1).","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"data-format-details","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Data Format Details","title":"Claude Code Instructions","text":"File format: CSV (comma-separated) Encoding: UTF-8 Row count: ~330-340 schools per year 2023 includes: 1 state-level record + school records 2019-2022: School records (calculate state totals manually)","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"value-formatting","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Value Formatting","title":"Claude Code Instructions","text":"Percentages: \"   83.71%\" (leading spaces + % suffix) - Strip spaces, remove %, convert numeric, divide 100 Integers: \"           178\" (leading spaces) - Strip spaces, convert integer State-level numbers (2023 ): \"98,927\" (commas) - Remove commas converting Suppressed values: \"<\" - Replace NA - Appears diploma type counts rates Zero rates: \"   .00%\" - real zero, suppression - Convert 0.00","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"id-formats","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"ID Formats","title":"Claude Code Instructions","text":"Division Numbers: - Format: Integer, 1-3 digits (leading zeros) - Range: 1-218 (132 active divisions) - Storage: Character (match enrollment data) School Numbers: - Format: 4-digit numeric leading zeros - Examples: “0540”, “0070”, “0332” - CRITICAL: Store character preserve leading zeros","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"verified-state-totals","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Verified State Totals","title":"Claude Code Instructions","text":"Time series heuristics: - State graduation rate: 91-93% (expect values range) - Cohort size: 97,000-99,000 students - YoY rate change: typically < 1.5 percentage points - School count: 330-340 high schools Red flags: - State rate < 88% > 96% (data error likely) - Cohort size < 90,000 > 110,000 - School count < 300 > 400","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"fidelity-test-values-verified","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Fidelity Test Values (Verified)","title":"Claude Code Instructions","text":"2023 state-level (state record): 2023 Arcadia High (Accomack County, Div 1, School 0540): 2019 calculated state total:","code":"Graduation Rate: 91.93% Cohort Size: 98,927 Total Graduates: 90,944 Completion Rate: 92.93% Dropout Rate: 5.38% Graduation Rate: 83.71% Cohort Size: 178 Total Graduates: 149 Advanced Studies: 52 Standard Diploma: 96 Applied Studies: < (suppressed) Completion Rate: 84.83% Dropout Rate: 3.93% Dropouts: 7 Still Enrolled: 4 Total Cohort: 98,241 Total Graduates: 89,991 Graduation Rate: 91.60%"},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"required-r-packages","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Required R Packages","title":"Claude Code Instructions","text":"new dependencies needed! required packages already DESCRIPTION: - readr - Parse CSV files - httr - Download files - stringr - String manipulation (remove %, commas, spaces) - dplyr - Data manipulation - tidyr - Pivot long format - tibble - tibble data frames","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"implementation-status","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Implementation Status","title":"Claude Code Instructions","text":"Stage 1 (Research): COMPLETE - [x] 5 URLs verified working - [x] Sample files downloaded (3+ years examined) - [x] Schema changes documented (v1 vs v2) - [x] Column names mapped - [x] Data structure analyzed - [x] Suppression markers identified - [x] State totals verified - [x] Fidelity test values documented Stage 2 (TDD): READY START - [ ] Create tests/testthat/test-graduation-live.R (8 LIVE pipeline tests) - [ ] Create tests/testthat/test-graduation-fidelity.R (3+ fidelity tests) - [ ] Run tests (fail - implementation yet) Stage 3 (Implementation): PENDING - [ ] Create R/get_raw_graduation.R (download + parse CSV) - [ ] Create R/process_graduation.R (era detection + column standardization) - [ ] Create R/tidy_graduation.R (pivot long format) - [ ] Create R/fetch_graduation.R (user-facing main function) - [ ] Create R/fetch_graduation_multi.R (multi-year wrapper) - [ ] Run devtools::check() - fix 0 errors, 0 warnings Stage 4 (Documentation): PENDING - [ ] Update README.md graduation rate availability - [ ] Add roxygen2 documentation functions - [ ] Update pkgdown reference (needed) - [ ] Create vignette example (package vignettes)","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"ckan-api-access","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"CKAN API Access","title":"Claude Code Instructions","text":"Discover graduation datasets: Hardcoded URLs (recommended stability):","code":"api_url <- \"https://data.virginia.gov/api/3/action/package_search\" params <- list(q = \"cohort graduation dropout\", rows = 50, sort = \"metadata_modified desc\") response <- httr::GET(api_url, query = params) data <- httr::content(response, as = \"parsed\") datasets <- data$result$results get_graduation_url <- function(end_year) {   urls <- list(     \"2019\" = \"https://data.virginia.gov/dataset/89179d05-0009-4a08-a8bd-4f31ee47ed4a/resource/209a1d06-8d24-47e5-9bea-d64f6e7b6406/download/cohort_statistics-8.csv\",     \"2020\" = \"https://data.virginia.gov/dataset/c13dbcbb-92fd-4335-9f41-9d6f41b084eb/resource/19b88afb-e16d-450d-80fe-9dd11fa87f0d/download/cohort_statistics-7.csv\",     \"2021\" = \"https://data.virginia.gov/dataset/d2f4192e-a978-44ea-b6e9-c7fcdba2272f/resource/99a342e4-4e83-40f1-9b51-887a5c7e434f/download/cohort_statistics-6.csv\",     \"2022\" = \"https://data.virginia.gov/dataset/92e9facf-079a-4af9-6020db3b527e/resource/49810d27-f16d-42f1-9577-21b173713204/download/cohort_statistics-5.csv\",     \"2023\" = \"https://data.virginia.gov/dataset/554735ce-fd3e-4077-af7f-868c32e51edf/resource/ccf203ad-862d-4522-8e9c-ab50de579ce7/download/cohort_statistics-4.csv\"   )   if (!as.character(end_year) %in% names(urls)) {     stop(\"Graduation data not available for \", end_year)   }   urls[[as.character(end_year)]] }"},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"additional-data-on-portal","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Additional Data on Portal","title":"Claude Code Instructions","text":"Virginia Open Data Portal also provides: - Graduates Diploma Type (2019-2023) - Graduates Continuing Education Plans (2019-2023) - Graduate Completer Totals School (2019-2023) - Historical Reports Graduates (1996-2006) added later separate functions needed.","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"complexity-assessment","dir":"","previous_headings":"Graduation Rate Data (Stage 1 Research Complete)","what":"Complexity Assessment","title":"Claude Code Instructions","text":"Tier: LOW (Tier 1) - Direct CSV download - Stable CKAN API - 2 schema eras - authentication required - new dependencies Estimated implementation time: 3-4 hours (per graduation rate implementation plan) Ready Phase 1 proof concept implementation.","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"readme-and-vignette-code-matching-required","dir":"","previous_headings":"","what":"README and Vignette Code Matching (REQUIRED)","title":"Claude Code Instructions","text":"CRITICAL RULE (2026-01-08): code blocks README MUST match code vignette EXACTLY (1:1 correspondence).","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"why-this-matters","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Why This Matters","title":"Claude Code Instructions","text":"Idaho fix revealed critical bugs README code didn’t match vignettes: - Wrong district names (lowercase vs CAPS) - Text claims contradicted actual data - Missing data output examples","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"readme-story-structure-required","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"README Story Structure (REQUIRED)","title":"Claude Code Instructions","text":"Every story/section README MUST follow structure: Claim: factual statement data Explication: Brief explanation matters Code: R code fetches analyzes data (MUST exist vignette) Code Output: Data table/print statement showing actual values (REQUIRED) Visualization: Chart vignette (auto-generated pkgdown)","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"enforcement","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Enforcement","title":"Claude Code Instructions","text":"state-deploy skill verifies deployment: - Extracts README code blocks - Searches vignettes EXACT matches - Fails deployment code found vignettes - Randomly audits packages claim accuracy","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"what-this-prevents","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"What This Prevents","title":"Claude Code Instructions","text":"❌ Wrong district/entity names (case sensitivity, typos) ❌ Text claims contradict data ❌ Broken code fails silently ❌ Missing data output ✅ Verified, accurate, reproducible examples","code":""},{"path":"https://almartin82.github.io/vaschooldata/CLAUDE.html","id":"example","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Example","title":"Claude Code Instructions","text":"```","code":"### 1. State enrollment grew 28% since 2002  State added 68,000 students from 2002 to 2026, bucking national trends.  ```r library(arschooldata) library(dplyr)  enr <- fetch_enr_multi(2002:2026)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   filter(end_year %in% c(2002, 2026)) %>%   mutate(change = n_students - lag(n_students),          pct_change = round((n_students / lag(n_students) - 1) * 100, 1)) # Prints: 2002=XXX, 2026=YYY, change=ZZZ, pct=PP.P%"},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"package-status","dir":"","previous_headings":"","what":"Package Status","title":"Virginia Assessment Data Expansion Research","text":"Current Scope: Enrollment data ","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"data-source","dir":"","previous_headings":"Assessment Data Availability","what":"Data Source","title":"Virginia Assessment Data Expansion Research","text":"Virginia Department Education (VDOE) - SOL Test Pass Rates & Results: https://www.doe.virginia.gov/data-policy-funding/data-reports/statistics-reports/sol-test-pass-rates--results - Virginia SOL Assessment Program: https://www.doe.virginia.gov/teaching-learning-assessment/student-assessment/virginia-sol-assessment-program","code":""},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"assessment-system-standards-of-learning-sol","dir":"","previous_headings":"Assessment Data Availability","what":"Assessment System: Standards of Learning (SOL)","title":"Virginia Assessment Data Expansion Research","text":"Current Assessments: - Grades: 3-8 End--Course - Subjects: - Reading - Mathematics - Science - History/Social Science - Writing - EOC Assessments: Algebra , Geometry, Algebra II, Earth Science, Biology, Chemistry, Virginia/US History, World History & II Historical Timeline: - 1990s: SOL assessments established part Virginia’s Standards Accreditation - Early 2000s: SOL tests became graduation requirements - 2010s: Continued SOL administration periodic standard settings - 2020s: SOL assessments continue, added Growth Assessments grades","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"vdoe-data-reports-page","dir":"","previous_headings":"Data Access Analysis","what":"VDOE Data Reports Page","title":"Virginia Assessment Data Expansion Research","text":"URL: https://www.doe.virginia.gov/data-policy-funding/data-reports/statistics-reports/sol-test-pass-rates--results Provides: - SOL pass rates school, district, state - Historical data files (Excel/CSV format typically) - Disaggregated data student groups - Multiple years results File Formats: - Typically Excel spreadsheets (.xlsx) - May include CSV files - Organized year subject Years Available: - VDOE maintains extensive historical data - Likely 2000s-present (exact range requires verification) - Annual updates","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"complexity-level-medium","dir":"","previous_headings":"Implementation Complexity","what":"Complexity Level: MEDIUM","title":"Virginia Assessment Data Expansion Research","text":"Advantages: 1. Centralized Data Source: Single VDOE data reports page 2. Standardized Format: Excel files consistent structure 3. Long Time Series: 20+ years SOL data 4. Official Source: Direct VDOE (federal aggregation) Challenges: 1. File Organization: Multiple files per year (subject) 2. Schema Evolution: May column changes 20+ years 3. EOC vs Grade-Level: Different structures different tests 4. Pass Rates vs Raw Scores: Primarily pass percentages, may need raw scores","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"phase-1-file-structure-investigation","dir":"","previous_headings":"Implementation Recommendations","what":"Phase 1: File Structure Investigation","title":"Virginia Assessment Data Expansion Research","text":"Tasks: 1. Download 3 sample files different eras (e.g., 2010, 2015, 2023) 2. Document column names structures 3. Identify changes time 4. Map standard schema Time Estimate: 2-3 hours","code":""},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"phase-2-implementation","dir":"","previous_headings":"Implementation Recommendations","what":"Phase 2: Implementation","title":"Virginia Assessment Data Expansion Research","text":"Functions Create: 1. get_raw_sol(year, subject, level) - Download SOL data 2. process_sol(raw_data) - Process standardize 3. fetch_sol(year, subject, tidy = TRUE) - User-facing function Estimated Effort: 12-15 hours","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"known-issues","dir":"","previous_headings":"Data Quality Considerations","what":"Known Issues","title":"Virginia Assessment Data Expansion Research","text":"2019-20: SOL assessments waived/modified 2020-21: Participation may varied Data quality issues pandemic years VDOE periodically resets cut scores directly comparable across years Document standard setting years Small schools may suppressed data FERPA compliance requirements","code":""},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"next-steps","dir":"","previous_headings":"","what":"Next Steps","title":"Virginia Assessment Data Expansion Research","text":"Investigate VDOE data files - Download analyze sample files Document schema evolution - Identify column changes time Test URL patterns - Verify predictable download URLs Implement data functions - Build fetch/process/tidy pipeline","code":""},{"path":"https://almartin82.github.io/vaschooldata/EXPANSION.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Virginia Assessment Data Expansion Research","text":"VDOE SOL Test Pass Rates & Results Virginia SOL Assessment Program SOL Test Scoring & Performance Reports Last Updated: 2025-01-11 Research Status: Complete - Requires file investigation Recommended Next Phase: Download analyze VDOE SOL data files (2-3 hours)","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/TODO.html","id":"issue-vdoe-data-download-failure-2026-01-01","dir":"","previous_headings":"pkgdown Build Issues","what":"Issue: VDOE Data Download Failure (2026-01-01)","title":"TODO - vaschooldata","text":"Error: pkgdown build fails rendering vignettes/enrollment_hooks.Rmd Details: - Build fails chunk statewide-trend (lines 38-48) - Error: Failed download Virginia enrollment data year 2016 - vignette calls fetch_enr_multi(2016:2025) attempts download data VDOE - years 2016-2025 configured available get_available_years() Root Cause: - Network connectivity issues VDOE server unavailability - download fails connection timeout trying fetch enrollment data Potential Solutions: 1. Add pre-built/cached data package vignette builds 2. Use eval = FALSE chunks require live data downloads 3. Add error handling graceful fallback vignette 4. Consider using knitr::opts_chunk$set(eval = nzchar(Sys.getenv(\"VASCHOOLDATA_BUILD_VIGNETTES\"))) conditionally build Stack Trace:","code":"Error in get_raw_enr(): ! Failed to download Virginia enrollment data for year 2016 Please check your internet connection and try again. If the problem persists, VDOE data may be temporarily unavailable."},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-northern-virginia-boom","dir":"Articles","previous_headings":"","what":"1. The Northern Virginia Boom","title":"15 Insights from Virginia School Enrollment Data","text":"Virginia holds steady, Loudoun County exploded. 52,000 students 2010 82,000 today, now Virginia’s 4th-largest division.","code":"# Loudoun's explosive growth fetch_enr_multi(2016:2023, use_cache = TRUE) |>   filter(is_district, grepl(\"Loudoun\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, district_name, n_students) loudoun <- fetch_enr_multi(2016:2024, use_cache = TRUE) |>   filter(is_district, grepl(\"Loudoun\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(loudoun, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#003366\") +   geom_point(size = 3, color = \"#003366\") +   scale_y_continuous(labels = scales::comma, limits = c(50000, NA)) +   labs(     title = \"Loudoun County Enrollment Growth\",     subtitle = \"Virginia's fastest-growing major division\",     x = \"School Year (ending)\",     y = \"Total Enrollment\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-fairfax-giant","dir":"Articles","previous_headings":"","what":"2. The Fairfax Giant","title":"15 Insights from Virginia School Enrollment Data","text":"Fairfax County Public Schools alone enrolls students 42 states’ entire charter sectors. 180,000 students, 10th-largest district America.","code":"enr_2024 <- fetch_enr(2024, use_cache = TRUE)  fetch_enr(2023, use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(5) top_10 <- enr_2024 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   head(10) |>   select(district_name, n_students)  top_10 |>   mutate(district_name = forcats::fct_reorder(district_name, n_students)) |>   ggplot(aes(x = n_students, y = district_name)) +   geom_col(fill = \"#003366\") +   scale_x_continuous(labels = scales::comma) +   labs(     title = \"Virginia's 10 Largest School Divisions (2024)\",     x = \"Total Enrollment\",     y = NULL   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-rural-decline","dir":"Articles","previous_headings":"","what":"3. The Rural Decline","title":"15 Insights from Virginia School Enrollment Data","text":"Northern Virginia grows, Southwest Virginia vanishing. Lee County lost 45% students since 2016. Dickenson County: 40%+.","code":"fetch_enr_multi(c(2016, 2023), use_cache = TRUE) |>   filter(is_district, grepl(\"Lee County|Dickenson\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, district_name, n_students) |>   tidyr::pivot_wider(names_from = end_year, values_from = n_students) rural <- fetch_enr_multi(2016:2024, use_cache = TRUE) |>   filter(is_district, grepl(\"Lee County|Dickenson\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(rural, aes(x = end_year, y = n_students, color = district_name)) +   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Rural Division Enrollment Decline\",     subtitle = \"Southwest Virginia continues to lose students\",     x = \"School Year\",     y = \"Enrollment\",     color = \"Division\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"virginias-demographic-transformation","dir":"Articles","previous_headings":"","what":"4. Virginia’s Demographic Transformation","title":"15 Insights from Virginia School Enrollment Data","text":"Virginia becoming increasingly diverse. Hispanic students fastest-growing demographic group.","code":"enr <- fetch_enr_multi(2016:2024, use_cache = TRUE)  fetch_enr_multi(c(2016, 2023), use_cache = TRUE) |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) |>   select(end_year, subgroup, n_students, pct) demo_trend <- enr |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) |>   select(end_year, subgroup, n_students)  ggplot(demo_trend, aes(x = end_year, y = n_students, color = subgroup)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   scale_color_brewer(palette = \"Set1\") +   labs(     title = \"Virginia Enrollment by Race/Ethnicity (2016-2024)\",     subtitle = \"Hispanic enrollment growth outpaces other groups\",     x = \"School Year\",     y = \"Enrollment\",     color = \"Group\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-covid-dip","dir":"Articles","previous_headings":"","what":"5. The COVID Dip","title":"15 Insights from Virginia School Enrollment Data","text":"Virginia lost students 2019 2021. Enrollment partially recovered remains pre-pandemic levels.","code":"fetch_enr_multi(2019:2024, use_cache = TRUE) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) covid <- enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          end_year >= 2019)  ggplot(covid, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#003366\") +   geom_point(size = 3, color = \"#003366\") +   geom_vline(xintercept = 2020, linetype = \"dashed\", alpha = 0.5) +   scale_y_continuous(labels = scales::comma) +   annotate(\"text\", x = 2020, y = max(covid$n_students), label = \"COVID\", vjust = -0.5) +   labs(     title = \"Virginia Enrollment During and After COVID\",     x = \"School Year\",     y = \"Total Enrollment\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-charter-desert","dir":"Articles","previous_headings":"","what":"6. The Charter Desert","title":"15 Insights from Virginia School Enrollment Data","text":"Unlike many states, Virginia fewer 10 charter schools statewide, enrolling 3,000 students. legislature historically restrictive. Note: Virginia’s charter school sector minimal compared states.","code":"charter_data <- fetch_enr(2023, use_cache = TRUE) |>   filter(grepl(\"charter\", tolower(campus_name)) | grepl(\"charter\", tolower(district_name)),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  if (nrow(charter_data) > 0) {   charter_data |>     summarize(n_charter_schools = n(), total_students = sum(n_students, na.rm = TRUE)) } else {   data.frame(n_charter_schools = 0, total_students = 0) }"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-hampton-roads-plateau","dir":"Articles","previous_headings":"","what":"7. The Hampton Roads Plateau","title":"15 Insights from Virginia School Enrollment Data","text":"Virginia Beach, Norfolk, Newport News, growing military hubs, flatlined two decades.","code":"fetch_enr_multi(c(2016, 2024), use_cache = TRUE) |>   filter(is_district, grepl(\"Virginia Beach|Norfolk|Newport News\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, district_name, n_students) hampton <- enr |>   filter(is_district, grepl(\"Virginia Beach|Norfolk|Newport News\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(hampton, aes(x = end_year, y = n_students, color = district_name)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Hampton Roads Enrollment Trends\",     subtitle = \"Military corridor enrollment has plateaued\",     x = \"School Year\",     y = \"Enrollment\",     color = \"Division\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"kindergarten-as-crystal-ball","dir":"Articles","previous_headings":"","what":"8. Kindergarten as Crystal Ball","title":"15 Insights from Virginia School Enrollment Data","text":"Kindergarten enrollment predicts future. Richmond City kindergarten dropped, signaling continued enrollment pressure.","code":"fetch_enr_multi(2019:2023, use_cache = TRUE) |>   filter(is_district, grepl(\"Richmond City\", district_name),          subgroup == \"total_enrollment\", grade_level == \"K\") |>   select(end_year, n_students) k_trend <- enr |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"05\", \"09\"))  ggplot(k_trend, aes(x = end_year, y = n_students, color = grade_level)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Enrollment by Grade Level Over Time\",     subtitle = \"Kindergarten dips signal future enrollment trends\",     x = \"School Year\",     y = \"Enrollment\",     color = \"Grade\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-wealthiest-division-in-virginia","dir":"Articles","previous_headings":"","what":"9. The Wealthiest Division in Virginia","title":"15 Insights from Virginia School Enrollment Data","text":"Falls Church City, tiny independent city Northern Virginia, 100% Fairfax County operates schools. Median income: $150,000+.","code":"fetch_enr(2023, use_cache = TRUE) |>   filter(is_district, grepl(\"Falls Church\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(district_name, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"years-of-vdoe-data","dir":"Articles","previous_headings":"","what":"10. 9 Years of VDOE Data","title":"15 Insights from Virginia School Enrollment Data","text":"package provides 9 years Virginia enrollment data VDOE School Quality Profiles (2016-2024).","code":"# Years available get_available_years() # Count divisions over time fetch_enr_multi(c(2016, 2020, 2024), use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   group_by(end_year) |>   summarize(n_divisions = n(), total_students = sum(n_students, na.rm = TRUE))"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"richmond-citys-enrollment-pressure","dir":"Articles","previous_headings":"","what":"11. Richmond City’s Enrollment Pressure","title":"15 Insights from Virginia School Enrollment Data","text":"Richmond City Public Schools lost students steadily, enrollment dropping 24,000 22,000 since 2016.","code":"fetch_enr_multi(2016:2024, use_cache = TRUE) |>   filter(is_district, grepl(\"Richmond City\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) richmond <- enr |>   filter(is_district, grepl(\"Richmond City\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(richmond, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#B22222\") +   geom_point(size = 3, color = \"#B22222\") +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Richmond City Enrollment Trends\",     subtitle = \"Steady decline in enrollment\",     x = \"School Year\",     y = \"Enrollment\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"hampton-roads-military-corridor","dir":"Articles","previous_headings":"","what":"12. Hampton Roads Military Corridor","title":"15 Insights from Virginia School Enrollment Data","text":"Virginia Beach, Norfolk, Newport News, Hampton together educate 180,000+ students, enrollment plateaued despite large military presence.","code":"fetch_enr_multi(c(2016, 2024), use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Virginia Beach|Norfolk|Newport News|Hampton\", district_name)) |>   group_by(end_year) |>   summarize(total = sum(n_students, na.rm = TRUE))"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"elementary-vs--high-school-shifts","dir":"Articles","previous_headings":"","what":"13. Elementary vs. High School Shifts","title":"15 Insights from Virginia School Enrollment Data","text":"COVID’s kindergarten dip now visible elementary grades, high school enrollment remains stable pre-pandemic cohorts.","code":"fetch_enr(2024, use_cache = TRUE) |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"09\", \"12\")) |>   select(grade_level, n_students) grade_dist <- enr |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"05\", \"09\", \"12\"))  ggplot(grade_dist, aes(x = end_year, y = n_students, color = grade_level)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Enrollment by Grade Level Over Time\",     subtitle = \"Elementary grades showing COVID impact\",     x = \"School Year\",     y = \"Enrollment\",     color = \"Grade\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"southwest-virginia-coalfield-decline","dir":"Articles","previous_headings":"","what":"14. Southwest Virginia Coalfield Decline","title":"15 Insights from Virginia School Enrollment Data","text":"coalfield counties (Buchanan, Dickenson, Wise, Lee, Tazewell) lost 20%+ students since 2016 coal economy continues decline.","code":"fetch_enr_multi(c(2016, 2024), use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Buchanan|Dickenson|Wise|Lee|Tazewell\", district_name)) |>   group_by(end_year) |>   summarize(total = sum(n_students, na.rm = TRUE)) coalfield <- enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Buchanan|Dickenson|Wise|Lee County|Tazewell\", district_name, ignore.case = TRUE))  coalfield_total <- coalfield |>   group_by(end_year) |>   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  ggplot(coalfield_total, aes(x = end_year, y = total)) +   geom_line(linewidth = 1.2, color = \"#8B4513\") +   geom_point(size = 3, color = \"#8B4513\") +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Southwest Virginia Coalfield Region Enrollment\",     subtitle = \"Buchanan, Dickenson, Wise, Lee, and Tazewell counties\",     x = \"School Year\",     y = \"Total Enrollment\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"the-two-virginias","dir":"Articles","previous_headings":"","what":"15. The Two Virginias","title":"15 Insights from Virginia School Enrollment Data","text":"Northern Virginia (Fairfax, Loudoun, Prince William, Arlington) grown since 2016 Southwest Virginia declined. diverging trajectories represent two different futures.","code":"# Northern Virginia nova <- enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Fairfax|Loudoun|Prince William|Arlington\", district_name, ignore.case = TRUE)) |>   group_by(end_year) |>   summarize(nova_total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  # Southwest Virginia swva <- enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Buchanan|Dickenson|Wise|Lee County|Tazewell|Russell|Scott|Smyth|Washington\", district_name, ignore.case = TRUE)) |>   group_by(end_year) |>   summarize(swva_total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  # Combine and calculate indexed values (2016 = 100) comparison <- nova |>   left_join(swva, by = \"end_year\") |>   mutate(     nova_idx = round(nova_total / nova_total[end_year == min(end_year)] * 100, 1),     swva_idx = round(swva_total / swva_total[end_year == min(end_year)] * 100, 1)   )  comparison |> select(end_year, nova_idx, swva_idx) comparison_long <- comparison |>   select(end_year, nova_idx, swva_idx) |>   pivot_longer(cols = c(nova_idx, swva_idx), names_to = \"region\", values_to = \"index\") |>   mutate(region = ifelse(region == \"nova_idx\", \"Northern Virginia\", \"Southwest Virginia\"))  ggplot(comparison_long, aes(x = end_year, y = index, color = region)) +   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   geom_hline(yintercept = 100, linetype = \"dashed\", alpha = 0.5) +   scale_color_manual(values = c(\"Northern Virginia\" = \"#003366\", \"Southwest Virginia\" = \"#8B4513\")) +   labs(     title = \"The Two Virginias: Diverging Trajectories\",     subtitle = \"Enrollment indexed to 2016 baseline (100)\",     x = \"School Year\",     y = \"Index (2016 = 100)\",     color = \"Region\"   )"},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"15 Insights from Virginia School Enrollment Data","text":"Virginia’s school enrollment data reveals: Northern Virginia dominance: Fairfax, Loudoun, Prince William drive statewide enrollment Growing diversity: Hispanic Asian student populations increasing Rural decline: Many small divisions rural areas losing students COVID recovery: Enrollment partially rebounded pandemic dip Local variation: 132 divisions create wide range school system sizes Two Virginias: Growing NoVA vs. declining Southwest create diverging trajectories patterns shape education policy across Commonwealth.","code":""},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"data-notes","dir":"Articles","previous_headings":"","what":"Data Notes","title":"15 Insights from Virginia School Enrollment Data","text":"Data source: Virginia Department Education (VDOE) School Quality Profiles Available years: 2016-2024 (9 years) Entities: State, 132 school divisions, ~2,100 schools Subgroups: Total enrollment, race/ethnicity (white, black, Hispanic, Asian, multiracial, Native American, Pacific Islander), gender, economically disadvantaged, students disabilities, English learners Suppression: Small counts may suppressed student privacy Census Day: Fall membership count (typically late September/early October) Data sourced Virginia Department Education (VDOE).","code":""},{"path":"https://almartin82.github.io/vaschooldata/articles/enrollment_hooks.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"15 Insights from Virginia School Enrollment Data","text":"","code":"sessionInfo()"},{"path":"https://almartin82.github.io/vaschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/vaschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). vaschooldata: Virginia School Data. R package version 0.1.0, https://almartin82.github.io/vaschooldata.","code":"@Manual{,   title = {vaschooldata: Virginia School Data},   author = {Al Martin},   year = {2026},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/vaschooldata}, }"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"vaschooldata","dir":"","previous_headings":"","what":"Virginia School Data","title":"Virginia School Data","text":"Documentation | GitHub Fetch analyze Virginia school enrollment data Virginia Department Education (VDOE) R Python. Data every school division Virginia.","code":""},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"Virginia School Data","text":"package part collection state education data packages inspired njschooldata, original R package accessing New Jersey school data. goal provide simple, consistent interface accessing state-published school data across 50 states. state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"what-can-you-find-with-vaschooldata","dir":"","previous_headings":"","what":"What can you find with vaschooldata?","title":"Virginia School Data","text":"Virginia educates 1.25 million students across 132 school divisions, coalfields Appalachia suburbs Northern Virginia. fifteen stories hiding data:","code":""},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_1-the-northern-virginia-boom","dir":"","previous_headings":"What can you find with vaschooldata?","what":"1. The Northern Virginia Boom","title":"Virginia School Data","text":"Virginia holds steady, Loudoun County exploded. 52,000 students 2016 82,000 today, now Virginia’s 4th-largest division.","code":"library(vaschooldata) library(dplyr)  # Loudoun's explosive growth fetch_enr_multi(2016:2023, use_cache = TRUE) |>   filter(is_district, grepl(\"Loudoun\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, district_name, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_2-the-fairfax-giant","dir":"","previous_headings":"What can you find with vaschooldata?","what":"2. The Fairfax Giant","title":"Virginia School Data","text":"Fairfax County Public Schools alone enrolls students 42 states’ entire charter sectors. 180,000 students, 10th-largest district America.","code":"fetch_enr(2023, use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(5)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_3-the-rural-decline","dir":"","previous_headings":"What can you find with vaschooldata?","what":"3. The Rural Decline","title":"Virginia School Data","text":"Northern Virginia grows, Southwest Virginia vanishing. Lee County lost 45% students since 2016. Dickenson County: 40%+.","code":"fetch_enr_multi(c(2016, 2023), use_cache = TRUE) |>   filter(is_district, grepl(\"Lee County|Dickenson\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, district_name, n_students) |>   tidyr::pivot_wider(names_from = end_year, values_from = n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_4-virginias-demographic-transformation","dir":"","previous_headings":"What can you find with vaschooldata?","what":"4. Virginia’s Demographic Transformation","title":"Virginia School Data","text":"Virginia becoming increasingly diverse. Hispanic students fastest-growing demographic group.","code":"fetch_enr_multi(c(2016, 2023), use_cache = TRUE) |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) |>   select(end_year, subgroup, n_students, pct)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_5-the-covid-dip","dir":"","previous_headings":"What can you find with vaschooldata?","what":"5. The COVID Dip","title":"Virginia School Data","text":"Virginia lost students 2019 2021. Enrollment partially recovered remains pre-pandemic levels.","code":"fetch_enr_multi(2019:2024, use_cache = TRUE) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_6-the-charter-desert","dir":"","previous_headings":"What can you find with vaschooldata?","what":"6. The Charter Desert","title":"Virginia School Data","text":"Unlike many states, Virginia fewer 10 charter schools statewide. legislature historically restrictive.","code":"charter_data <- fetch_enr(2023, use_cache = TRUE) |>   filter(grepl(\"charter\", tolower(campus_name)) | grepl(\"charter\", tolower(district_name)),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  if (nrow(charter_data) > 0) {   charter_data |>     summarize(n_charter_schools = n(), total_students = sum(n_students, na.rm = TRUE)) } else {   data.frame(n_charter_schools = 0, total_students = 0) }"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_7-the-hampton-roads-plateau","dir":"","previous_headings":"What can you find with vaschooldata?","what":"7. The Hampton Roads Plateau","title":"Virginia School Data","text":"Virginia Beach, Norfolk, Newport News, growing military hubs, flatlined two decades.","code":"fetch_enr_multi(c(2016, 2024), use_cache = TRUE) |>   filter(is_district, grepl(\"Virginia Beach|Norfolk|Newport News\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, district_name, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_8-kindergarten-as-crystal-ball","dir":"","previous_headings":"What can you find with vaschooldata?","what":"8. Kindergarten as Crystal Ball","title":"Virginia School Data","text":"Kindergarten enrollment predicts future. Richmond City kindergarten dropped, signaling continued enrollment pressure.","code":"fetch_enr_multi(2019:2023, use_cache = TRUE) |>   filter(is_district, grepl(\"Richmond City\", district_name),          subgroup == \"total_enrollment\", grade_level == \"K\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_9-the-wealthiest-division-in-virginia","dir":"","previous_headings":"What can you find with vaschooldata?","what":"9. The Wealthiest Division in Virginia","title":"Virginia School Data","text":"Falls Church City, tiny independent city Northern Virginia, 100% Fairfax County operates schools. Median income: $150,000+.","code":"fetch_enr(2023, use_cache = TRUE) |>   filter(is_district, grepl(\"Falls Church\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(district_name, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_10-9-years-of-vdoe-data","dir":"","previous_headings":"What can you find with vaschooldata?","what":"10. 9 Years of VDOE Data","title":"Virginia School Data","text":"package provides 9 years Virginia enrollment data VDOE School Quality Profiles (2016-2024).","code":"# Years available get_available_years() # Count divisions over time fetch_enr_multi(c(2016, 2020, 2024), use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   group_by(end_year) |>   summarize(n_divisions = n(), total_students = sum(n_students, na.rm = TRUE))"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_11-richmond-citys-enrollment-pressure","dir":"","previous_headings":"What can you find with vaschooldata?","what":"11. Richmond City’s Enrollment Pressure","title":"Virginia School Data","text":"Richmond City Public Schools lost students steadily, enrollment dropping 24,000 22,000 since 2016.","code":"fetch_enr_multi(2016:2024, use_cache = TRUE) |>   filter(is_district, grepl(\"Richmond City\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_12-hampton-roads-military-corridor","dir":"","previous_headings":"What can you find with vaschooldata?","what":"12. Hampton Roads Military Corridor","title":"Virginia School Data","text":"Virginia Beach, Norfolk, Newport News, Hampton together educate 180,000+ students, enrollment plateaued despite large military presence.","code":"fetch_enr_multi(c(2016, 2024), use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Virginia Beach|Norfolk|Newport News|Hampton\", district_name)) |>   group_by(end_year) |>   summarize(total = sum(n_students, na.rm = TRUE))"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_13-elementary-vs-high-school-shifts","dir":"","previous_headings":"What can you find with vaschooldata?","what":"13. Elementary vs. High School Shifts","title":"Virginia School Data","text":"COVID’s kindergarten dip now visible elementary grades, high school enrollment remains stable pre-pandemic cohorts.","code":"fetch_enr(2024, use_cache = TRUE) |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"09\", \"12\")) |>   select(grade_level, n_students)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_14-southwest-virginia-coalfield-decline","dir":"","previous_headings":"What can you find with vaschooldata?","what":"14. Southwest Virginia Coalfield Decline","title":"Virginia School Data","text":"coalfield counties (Buchanan, Dickenson, Wise, Lee, Tazewell) lost 20%+ students since 2016 coal economy continues decline.","code":"fetch_enr_multi(c(2016, 2024), use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Buchanan|Dickenson|Wise|Lee|Tazewell\", district_name)) |>   group_by(end_year) |>   summarize(total = sum(n_students, na.rm = TRUE))"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"id_15-the-two-virginias","dir":"","previous_headings":"What can you find with vaschooldata?","what":"15. The Two Virginias","title":"Virginia School Data","text":"Northern Virginia (Fairfax, Loudoun, Prince William, Arlington) grown since 2016 Southwest Virginia declined. diverging trajectories represent two different futures.","code":"# Northern Virginia vs Southwest Virginia indexed to 2016 # See vignette for full code"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Virginia School Data","text":"","code":"# install.packages(\"devtools\") devtools::install_github(\"almartin82/vaschooldata\")"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"r-quick-start","dir":"","previous_headings":"","what":"R Quick Start","title":"Virginia School Data","text":"","code":"library(vaschooldata) library(dplyr)  # Get 2023 enrollment data (2022-23 school year) enr <- fetch_enr(2023, use_cache = TRUE)  # Statewide total enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   pull(n_students)  # Top 5 divisions enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(5)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"python-quick-start","dir":"","previous_headings":"","what":"Python Quick Start","title":"Virginia School Data","text":"","code":"import pyvaschooldata as va  # Fetch 2023 data (2022-23 school year) enr = va.fetch_enr(2023)  # Statewide total total = enr[(enr['is_state'] == True) & (enr['subgroup'] == 'total_enrollment') & (enr['grade_level'] == 'TOTAL')]['n_students'].sum() print(f\"{total:,} students\")  # Get multiple years enr_multi = va.fetch_enr_multi([2020, 2021, 2022, 2023])  # Check available years years = va.get_available_years() print(f\"Data available: {min(years)}-{max(years)}\")"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"graduation-rate-data","dir":"","previous_headings":"","what":"Graduation Rate Data","title":"Virginia School Data","text":"Years available: 2019-2023 (5 years) Data source: VDOE Cohort Graduation Dropout Report Rate types: 4-year, 5-year graduation rates Diploma types: Advanced Studies, Standard, IB, GED, Certificate, Applied Studies","code":"library(vaschooldata) library(dplyr)  # Get 2023 graduation rates (2022-23 school year) grad <- fetch_graduation(2023)  # Statewide graduation rate grad |>   filter(is_state, diploma_type == \"all\") |>   select(graduation_rate, cohort_size)  # Compare schools grad |>   filter(is_school, diploma_type == \"all\") |>   arrange(desc(graduation_rate)) |>   select(school_name, graduation_rate, cohort_size) |>   head(5)"},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"data-format","dir":"","previous_headings":"","what":"Data Format","title":"Virginia School Data","text":"fetch_enr() returns tidy (long) format default:","code":""},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"data-notes","dir":"","previous_headings":"","what":"Data Notes","title":"Virginia School Data","text":"Data source: Virginia Department Education (VDOE) School Quality Profiles Available years: 2016-2024 (9 years) Entities: State, 132 school divisions, ~2,100 schools Subgroups: Total enrollment, race/ethnicity (white, black, Hispanic, Asian, multiracial, Native American, Pacific Islander), gender, economically disadvantaged, students disabilities, English learners Suppression: Small counts may suppressed student privacy Census Day: Fall membership count (typically late September/early October)","code":""},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"enrollment-visualizations","dir":"","previous_headings":"","what":"Enrollment Visualizations","title":"Virginia School Data","text":"See full vignette 15 insights interactive charts.","code":""},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"Virginia School Data","text":"Andy Martin (almartin@gmail.com) github.com/almartin82","code":""},{"path":"https://almartin82.github.io/vaschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Virginia School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/add_all_subgroup.html","id":null,"dir":"Reference","previous_headings":"","what":"Add ","title":"Add ","text":"Adds summary record aggregates diploma types.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/add_all_subgroup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add ","text":"","code":"add_all_subgroup(tidy_data)"},{"path":"https://almartin82.github.io/vaschooldata/reference/add_all_subgroup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add ","text":"tidy_data Tidy graduation data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/add_all_subgroup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add ","text":"Data frame added \"\" subgroup records","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/calc_state_aggregates.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate state aggregates (for v1 data) — calc_state_aggregates","title":"Calculate state aggregates (for v1 data) — calc_state_aggregates","text":"v1 era (2019-2022), calculates state-level aggregates summing school-level records.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/calc_state_aggregates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate state aggregates (for v1 data) — calc_state_aggregates","text":"","code":"calc_state_aggregates(tidy_data)"},{"path":"https://almartin82.github.io/vaschooldata/reference/calc_state_aggregates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate state aggregates (for v1 data) — calc_state_aggregates","text":"tidy_data Tidy graduation data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/calc_state_aggregates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate state aggregates (for v1 data) — calc_state_aggregates","text":"Data frame added state aggregate records","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean ID values — clean_id","title":"Clean ID values — clean_id","text":"Removes extra whitespace ensures IDs character type.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean ID values — clean_id","text":"","code":"clean_id(x)"},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean ID values — clean_id","text":"x Vector ID values","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean ID values — clean_id","text":"Character vector cleaned IDs","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_phone.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean phone number — clean_phone","title":"Clean phone number — clean_phone","text":"Standardizes phone number formatting.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_phone.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean phone number — clean_phone","text":"","code":"clean_phone(x)"},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_phone.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean phone number — clean_phone","text":"x Vector phone numbers","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_phone.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean phone number — clean_phone","text":"Character vector cleaned phone numbers","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_principal_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean principal name — clean_principal_name","title":"Clean principal name — clean_principal_name","text":"Cleans principal name formatting.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_principal_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean principal name — clean_principal_name","text":"","code":"clean_principal_name(x)"},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_principal_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean principal name — clean_principal_name","text":"x Vector principal names","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clean_principal_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean principal name — clean_principal_name","text":"Character vector cleaned names","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the vaschooldata cache — clear_cache","title":"Clear the vaschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the vaschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the vaschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the vaschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the vaschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2023 data clear_cache(2023)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_directory_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear directory cache — clear_directory_cache","title":"Clear directory cache — clear_directory_cache","text":"Removes cached directory data files.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_directory_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear directory cache — clear_directory_cache","text":"","code":"clear_directory_cache()"},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_directory_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear directory cache — clear_directory_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/clear_directory_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear directory cache — clear_directory_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear directory cache clear_directory_cache() } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_directory_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty directory data frame — create_empty_directory_df","title":"Create empty directory data frame — create_empty_directory_df","text":"Create empty directory data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_directory_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty directory data frame — create_empty_directory_df","text":"","code":"create_empty_directory_df()"},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_directory_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty directory data frame — create_empty_directory_df","text":"Empty data frame expected columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_division_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty division data frame — create_empty_division_df","title":"Create empty division data frame — create_empty_division_df","text":"Create empty division data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_division_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty division data frame — create_empty_division_df","text":"","code":"create_empty_division_df(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_division_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty division data frame — create_empty_division_df","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_division_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty division data frame — create_empty_division_df","text":"Empty data frame expected columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_school_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty school data frame — create_empty_school_df","title":"Create empty school data frame — create_empty_school_df","text":"Create empty school data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_school_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty school data frame — create_empty_school_df","text":"","code":"create_empty_school_df(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_school_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty school data frame — create_empty_school_df","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_school_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty school data frame — create_empty_school_df","text":"Empty data frame expected columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_state_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty state data frame — create_empty_state_df","title":"Create empty state data frame — create_empty_state_df","text":"Create empty state data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_state_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty state data frame — create_empty_state_df","text":"","code":"create_empty_state_df(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_state_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty state data frame — create_empty_state_df","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_empty_state_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty state data frame — create_empty_state_df","text":"Empty data frame expected columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from division data — create_state_aggregate","title":"Create state-level aggregate from division data — create_state_aggregate","text":"Create state-level aggregate division data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from division data — create_state_aggregate","text":"","code":"create_state_aggregate(division_df, end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from division data — create_state_aggregate","text":"division_df Processed division data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from division data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/detect_grad_era.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect graduation data era — detect_grad_era","title":"Detect graduation data era — detect_grad_era","text":"Determines whether data v1 (2019-2022, 23 columns, Level field) v2 (2023+, 24 columns, Level field).","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/detect_grad_era.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect graduation data era — detect_grad_era","text":"","code":"detect_grad_era(raw_data)"},{"path":"https://almartin82.github.io/vaschooldata/reference/detect_grad_era.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect graduation data era — detect_grad_era","text":"raw_data Raw data frame get_raw_graduation()","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/detect_grad_era.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect graduation data era — detect_grad_era","text":"Character \"v1\" \"v2\"","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/dir_cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if directory cached data exists and is valid — dir_cache_exists","title":"Check if directory cached data exists and is valid — dir_cache_exists","text":"Check directory cached data exists valid","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/dir_cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if directory cached data exists and is valid — dir_cache_exists","text":"","code":"dir_cache_exists(type, max_age = 7)"},{"path":"https://almartin82.github.io/vaschooldata/reference/dir_cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if directory cached data exists and is valid — dir_cache_exists","text":"type Cache type (\"directory_tidy\" \"directory_raw\") max_age Maximum age days (default 7 directory data)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/dir_cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if directory cached data exists and is valid — dir_cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_buildatable_export.html","id":null,"dir":"Reference","previous_headings":"","what":"Download from Build-A-Table export — download_buildatable_export","title":"Download from Build-A-Table export — download_buildatable_export","text":"Attempts download data via VDOE's Build--Table tool. fallback method may require browser automation.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_buildatable_export.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download from Build-A-Table export — download_buildatable_export","text":"","code":"download_buildatable_export(end_year, level)"},{"path":"https://almartin82.github.io/vaschooldata/reference/download_buildatable_export.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download from Build-A-Table export — download_buildatable_export","text":"end_year School year end level \"school\" \"division\"","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_buildatable_export.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download from Build-A-Table export — download_buildatable_export","text":"Data frame enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download enrollment from School Quality Profiles — download_sqp_enrollment","title":"Download enrollment from School Quality Profiles — download_sqp_enrollment","text":"Downloads enrollment data VDOE's School Quality Profiles website. site provides CSV downloads Fall Membership data.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download enrollment from School Quality Profiles — download_sqp_enrollment","text":"","code":"download_sqp_enrollment(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download enrollment from School Quality Profiles — download_sqp_enrollment","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download enrollment from School Quality Profiles — download_sqp_enrollment","text":"List school division data frames","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a specific SQP enrollment file — download_sqp_file","title":"Download a specific SQP enrollment file — download_sqp_file","text":"Download specific SQP enrollment file","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a specific SQP enrollment file — download_sqp_file","text":"","code":"download_sqp_file(end_year, level)"},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a specific SQP enrollment file — download_sqp_file","text":"end_year School year end level \"school\" \"division\"","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/download_sqp_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a specific SQP enrollment file — download_sqp_file","text":"Data frame enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/vaschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2023) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/extract_enrollment_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract enrollment columns from raw data — extract_enrollment_columns","title":"Extract enrollment columns from raw data — extract_enrollment_columns","text":"Maps VDOE column names standard enrollment column names.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/extract_enrollment_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract enrollment columns from raw data — extract_enrollment_columns","text":"","code":"extract_enrollment_columns(df)"},{"path":"https://almartin82.github.io/vaschooldata/reference/extract_enrollment_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract enrollment columns from raw data — extract_enrollment_columns","text":"df Data frame raw VDOE data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/extract_enrollment_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract enrollment columns from raw data — extract_enrollment_columns","text":"Data frame standardized enrollment columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Virginia school directory data — fetch_directory","title":"Fetch Virginia school directory data — fetch_directory","text":"Downloads processes school directory data Virginia Department Education (VDOE). Data includes school names, addresses, phone numbers, principal information.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Virginia school directory data — fetch_directory","text":"","code":"fetch_directory(end_year = NULL, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Virginia school directory data — fetch_directory","text":"end_year currently used. VDOE provides single current snapshot. Included API consistency fetch functions. tidy TRUE (default), returns data clean format standardized column names. FALSE, returns data closer original source format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download VDOE.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Virginia school directory data — fetch_directory","text":"Data frame school directory information including: division_id 3-digit division (district) identifier school_id 4-digit school identifier nces_id NCES school identifier (12-digit) division_name Name school division school_name Name school principal_name Name school principal address Street address line 1 address2 Street address line 2 () city City state State (VA) zip ZIP code phone Phone number low_grade Lowest grade served high_grade Highest grade served school_type School type (e.g., \"Public school - Regular\") grade_level Grade level category (Elementary, Middle, High, etc.)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_directory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Virginia school directory data — fetch_directory","text":"","code":"if (FALSE) { # \\dontrun{ # Get school directory directory <- fetch_directory()  # Get raw format directory_raw <- fetch_directory(tidy = FALSE)  # Force fresh download (ignore cache) directory_fresh <- fetch_directory(use_cache = FALSE)  # Filter to specific division fairfax <- directory |>   dplyr::filter(division_name == \"Fairfax County Public Schools\") } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Virginia enrollment data — fetch_enr","title":"Fetch Virginia enrollment data — fetch_enr","text":"Downloads processes enrollment data Virginia Department Education (VDOE). Data sourced VDOE's School Quality Profiles Fall Membership reports.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Virginia enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Virginia enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2016-2025. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download VDOE.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Virginia enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, campus_id, names, enrollment counts demographic/grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Virginia enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to specific division fairfax <- enr_2024 |>   dplyr::filter(district_name == \"FAIRFAX COUNTY PUBLIC SCHOOLS\") } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_local.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment using local file — fetch_enr_local","title":"Fetch enrollment using local file — fetch_enr_local","text":"Processes locally downloaded Fall Membership file VDOE. Use function automatic downloads fail due CAPTCHA restrictions.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_local.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment using local file — fetch_enr_local","text":"","code":"fetch_enr_local(file_path, end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_local.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment using local file — fetch_enr_local","text":"file_path Path downloaded Excel CSV file end_year School year end (e.g., 2024 2023-24) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), caches processed data.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_local.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment using local file — fetch_enr_local","text":"Data frame enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_local.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment using local file — fetch_enr_local","text":"","code":"if (FALSE) { # \\dontrun{ # Download Fall Membership file manually from: # https://www.doe.virginia.gov/data-policy-funding/data-reports/statistics-reports/enrollment-demographics  # Then process it: enr_2024 <- fetch_enr_local(\"path/to/fall_membership_2024.xlsx\", 2024) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2021, 2022, 2023)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2021:2023)  # Track enrollment trends enr_multi |>   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Virginia graduation rate data — fetch_graduation","title":"Fetch Virginia graduation rate data — fetch_graduation","text":"Downloads processes graduation rate data Virginia Department Education (VDOE). Data sourced VDOE's Cohort Graduation Dropout Report available Open Data Portal.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Virginia graduation rate data — fetch_graduation","text":"","code":"fetch_graduation(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Virginia graduation rate data — fetch_graduation","text":"end_year school year. Year end academic year - eg 2022-23 school year year '2023'. Valid values 2019-2023. tidy TRUE (default), returns data long (tidy) format diploma_type column. FALSE, returns wide format one row per school. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download VDOE.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Virginia graduation rate data — fetch_graduation","text":"Data frame graduation rate data. Wide format includes columns division/school names, counts, rates diploma type. Tidy format pivots diploma counts diploma_type diploma_count columns.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Virginia graduation rate data — fetch_graduation","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2023 graduation data (2022-23 school year) grad_2023 <- fetch_graduation(2023)  # Get wide format grad_wide <- fetch_graduation(2023, tidy = FALSE)  # Force fresh download (ignore cache) grad_fresh <- fetch_graduation(2023, use_cache = FALSE)  # Filter to state-level grad_2023 |>   dplyr::filter(is_state, diploma_type == \"all\") |>   dplyr::select(graduation_rate, cohort_size, total_graduates)  # Compare schools grad_2023 |>   dplyr::filter(is_school, diploma_type == \"all\") |>   dplyr::arrange(dplyr::desc(graduation_rate)) |>   dplyr::select(school_name, graduation_rate, cohort_size) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch graduation rate data for multiple years — fetch_graduation_multi","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"Downloads combines graduation rate data multiple school years.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"","code":"fetch_graduation_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"end_years Vector school year ends (e.g., c(2019, 2020, 2021)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"Combined data frame graduation rate data requested years","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/fetch_graduation_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 5 years of data grad_multi <- fetch_graduation_multi(2019:2023)  # Track graduation rate trends grad_multi |>   dplyr::filter(is_state, diploma_type == \"all\") |>   dplyr::select(end_year, graduation_rate, cohort_size)  # Compare specific school across years grad_multi |>   dplyr::filter(school_number == \"0540\", diploma_type == \"all\") |>   dplyr::select(end_year, graduation_rate) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Format school year string — format_school_year","title":"Format school year string — format_school_year","text":"Converts end year school year string.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format school year string — format_school_year","text":"","code":"format_school_year(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format school year string — format_school_year","text":"end_year School year end (e.g., 2024)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format school year string — format_school_year","text":"Character string format \"2023-24\"","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Format long school year string — format_school_year_long","title":"Format long school year string — format_school_year_long","text":"Converts end year full school year string.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format long school year string — format_school_year_long","text":"","code":"format_school_year_long(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year_long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format long school year string — format_school_year_long","text":"end_year School year end (e.g., 2024)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/format_school_year_long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format long school year string — format_school_year_long","text":"Character string format \"2023-2024\"","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_grad_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years of graduation data — get_available_grad_years","title":"Get available years of graduation data — get_available_grad_years","text":"Returns vector years graduation rate data available Virginia Department Education (VDOE).","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_grad_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years of graduation data — get_available_grad_years","text":"","code":"get_available_grad_years()"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_grad_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years of graduation data — get_available_grad_years","text":"Integer vector available years (2019-2023)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_grad_years.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get available years of graduation data — get_available_grad_years","text":"VDOE provides Cohort Graduation Dropout Report data Open Data Portal. Historical data available 2019 present.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_grad_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years of graduation data — get_available_grad_years","text":"","code":"get_available_grad_years() #> [1] 2019 2020 2021 2022 2023  # Check the current range range(get_available_grad_years()) #> [1] 2019 2023"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years of Virginia enrollment data — get_available_years","title":"Get available years of Virginia enrollment data — get_available_years","text":"Returns vector years enrollment data available Virginia Department Education (VDOE).","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years of Virginia enrollment data — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years of Virginia enrollment data — get_available_years","text":"Integer vector available years (2016-2024)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_years.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get available years of Virginia enrollment data — get_available_years","text":"VDOE provides Fall Membership enrollment data School Quality Profiles website. Historical data available approximately 2016 present. Note: VDOE typically releases Fall Membership data late fall/early winter following school year start. example, 2024-25 (end_year=2025) data usually available December 2024.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years of Virginia enrollment data — get_available_years","text":"","code":"get_available_years() #> [1] 2016 2017 2018 2019 2020 2021 2022 2023 2024  # Check the current range range(get_available_years()) #> [1] 2016 2024"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_dir_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get directory cache file path — get_dir_cache_path","title":"Get directory cache file path — get_dir_cache_path","text":"Get directory cache file path","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_dir_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get directory cache file path — get_dir_cache_path","text":"","code":"get_dir_cache_path(type)"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_dir_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get directory cache file path — get_dir_cache_path","text":"type Cache type (\"directory_tidy\" \"directory_raw\")","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_dir_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get directory cache file path — get_dir_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_division_codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Virginia school division codes — get_division_codes","title":"Get Virginia school division codes — get_division_codes","text":"Returns named vector Virginia school division codes names. Virginia 132 school divisions (called \"divisions\" \"districts\").","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_division_codes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Virginia school division codes — get_division_codes","text":"","code":"get_division_codes()"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_division_codes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Virginia school division codes — get_division_codes","text":"Named character vector division codes names","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_graduation_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get graduation data download URL — get_graduation_url","title":"Get graduation data download URL — get_graduation_url","text":"Returns CKAN download URL given graduation year.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_graduation_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get graduation data download URL — get_graduation_url","text":"","code":"get_graduation_url(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_graduation_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get graduation data download URL — get_graduation_url","text":"end_year School year end (e.g., 2023 2022-23 school year)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_graduation_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get graduation data download URL — get_graduation_url","text":"Character URL CSV file","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw school directory data from Virginia DOE — get_raw_directory","title":"Download raw school directory data from Virginia DOE — get_raw_directory","text":"Downloads school directory data Virginia Department Education's directory website.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw school directory data from Virginia DOE — get_raw_directory","text":"","code":"get_raw_directory()"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw school directory data from Virginia DOE — get_raw_directory","text":"Data frame raw directory data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from Virginia DOE — get_raw_enr","title":"Download raw enrollment data from Virginia DOE — get_raw_enr","text":"Downloads school division enrollment data Virginia Department Education's School Quality Profiles website.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from Virginia DOE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from Virginia DOE — get_raw_enr","text":"end_year School year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from Virginia DOE — get_raw_enr","text":"List school division data frames","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw graduation rate data — get_raw_graduation","title":"Download raw graduation rate data — get_raw_graduation","text":"Downloads graduation rate CSV VDOE Open Data Portal returns data frame minimal processing.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw graduation rate data — get_raw_graduation","text":"","code":"get_raw_graduation(end_year, cache_dir = get_cache_dir())"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw graduation rate data — get_raw_graduation","text":"end_year School year end (e.g., 2023 2022-23 school year) cache_dir Directory cache downloaded files","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_raw_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw graduation rate data — get_raw_graduation","text":"Data frame raw graduation data provided VDOE","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_va_fips.html","id":null,"dir":"Reference","previous_headings":"","what":"Virginia FIPS code — get_va_fips","title":"Virginia FIPS code — get_va_fips","text":"Virginia FIPS code","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_va_fips.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Virginia FIPS code — get_va_fips","text":"","code":"get_va_fips()"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_va_fips.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Virginia FIPS code — get_va_fips","text":"Integer FIPS code Virginia (51)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_vdoe_doc_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Get VDOE document ID for Fall Membership files — get_vdoe_doc_id","title":"Get VDOE document ID for Fall Membership files — get_vdoe_doc_id","text":"Returns document ID VDOE's published Excel files. IDs may need updated VDOE changes CMS.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_vdoe_doc_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get VDOE document ID for Fall Membership files — get_vdoe_doc_id","text":"","code":"get_vdoe_doc_id(end_year, level)"},{"path":"https://almartin82.github.io/vaschooldata/reference/get_vdoe_doc_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get VDOE document ID for Fall Membership files — get_vdoe_doc_id","text":"end_year School year end level \"school\" \"division\"","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/get_vdoe_doc_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get VDOE document ID for Fall Membership files — get_vdoe_doc_id","text":"Character string document ID, NA found","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/vaschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2023) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/import_local_fm.html","id":null,"dir":"Reference","previous_headings":"","what":"Import local Fall Membership file — import_local_fm","title":"Import local Fall Membership file — import_local_fm","text":"Imports enrollment data locally downloaded Fall Membership file. Use function automatic download fails due CAPTCHA restrictions.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/import_local_fm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import local Fall Membership file — import_local_fm","text":"","code":"import_local_fm(file_path, end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/import_local_fm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import local Fall Membership file — import_local_fm","text":"file_path Path downloaded Excel CSV file end_year School year end (e.g., 2024 2023-24)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/import_local_fm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import local Fall Membership file — import_local_fm","text":"List school division data frames","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/import_local_fm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import local Fall Membership file — import_local_fm","text":"","code":"if (FALSE) { # \\dontrun{ # Download the Fall Membership file manually from: # https://www.doe.virginia.gov/data-policy-funding/data-reports/statistics-reports/enrollment-demographics # Then import it: raw_data <- import_local_fm(\"path/to/fall_membership_2024.xlsx\", 2024) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/map_grade_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Map grade codes to standard format — map_grade_code","title":"Map grade codes to standard format — map_grade_code","text":"Converts VDOE grade codes standardized format.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/map_grade_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map grade codes to standard format — map_grade_code","text":"","code":"map_grade_code(grade_code)"},{"path":"https://almartin82.github.io/vaschooldata/reference/map_grade_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map grade codes to standard format — map_grade_code","text":"grade_code Character numeric grade code","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/map_grade_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map grade codes to standard format — map_grade_code","text":"Character grade standard format (PK, K, 01-12)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/map_vdoe_race.html","id":null,"dir":"Reference","previous_headings":"","what":"Map VDOE race/ethnicity codes to standard names — map_vdoe_race","title":"Map VDOE race/ethnicity codes to standard names — map_vdoe_race","text":"Converts VDOE race/ethnicity categories standardized names.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/map_vdoe_race.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map VDOE race/ethnicity codes to standard names — map_vdoe_race","text":"","code":"map_vdoe_race(race_name)"},{"path":"https://almartin82.github.io/vaschooldata/reference/map_vdoe_race.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map VDOE race/ethnicity codes to standard names — map_vdoe_race","text":"race_name Character race/ethnicity VDOE data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/map_vdoe_race.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map VDOE race/ethnicity codes to standard names — map_vdoe_race","text":"Character standardized race name","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_integer.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse integer string to numeric — parse_integer","title":"Parse integer string to numeric — parse_integer","text":"Converts VA integer format (\"     178\" \"1,234\") integer. Handles leading spaces commas.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_integer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse integer string to numeric — parse_integer","text":"","code":"parse_integer(x)"},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_integer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse integer string to numeric — parse_integer","text":"x Character vector integers","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_integer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse integer string to numeric — parse_integer","text":"Integer vector","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_percentage.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse percentage string to numeric — parse_percentage","title":"Parse percentage string to numeric — parse_percentage","text":"Converts VA percentage format (\"  95.3%\") decimal (0.953). Handles leading spaces, % suffix, commas.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_percentage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse percentage string to numeric — parse_percentage","text":"","code":"parse_percentage(x)"},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_percentage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse percentage string to numeric — parse_percentage","text":"x Character vector percentages","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/parse_percentage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse percentage string to numeric — parse_percentage","text":"Numeric vector 0-1 scale","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw directory data — process_directory","title":"Process raw directory data — process_directory","text":"Transforms raw VDOE directory data standardized schema clean column names.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw directory data — process_directory","text":"","code":"process_directory(raw_data)"},{"path":"https://almartin82.github.io/vaschooldata/reference/process_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw directory data — process_directory","text":"raw_data Data frame get_raw_directory","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw directory data — process_directory","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_division_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process division-level enrollment data — process_division_enr","title":"Process division-level enrollment data — process_division_enr","text":"Process division-level enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_division_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process division-level enrollment data — process_division_enr","text":"","code":"process_division_enr(division_data, end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/process_division_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process division-level enrollment data — process_division_enr","text":"division_data Data frame division enrollment VDOE end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_division_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process division-level enrollment data — process_division_enr","text":"Processed division data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw enrollment data — process_enr","title":"Process raw enrollment data — process_enr","text":"Transforms raw VDOE data standardized schema combining school division data.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw enrollment data — process_enr","text":"raw_data List containing school division data get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw graduation data — process_graduation","title":"Process raw graduation data — process_graduation","text":"Converts raw VDOE graduation data standardized format. Handles era detection, column renaming, value parsing.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw graduation data — process_graduation","text":"","code":"process_graduation(raw_data, end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/process_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw graduation data — process_graduation","text":"raw_data Raw data get_raw_graduation() end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw graduation data — process_graduation","text":"Data frame standardized schema","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_school_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process school-level enrollment data — process_school_enr","title":"Process school-level enrollment data — process_school_enr","text":"Process school-level enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_school_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process school-level enrollment data — process_school_enr","text":"","code":"process_school_enr(school_data, end_year)"},{"path":"https://almartin82.github.io/vaschooldata/reference/process_school_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process school-level enrollment data — process_school_enr","text":"school_data Data frame school enrollment VDOE end_year School year end","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/process_school_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process school-level enrollment data — process_school_enr","text":"Processed school data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/vaschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/read_dir_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read directory data from cache — read_dir_cache","title":"Read directory data from cache — read_dir_cache","text":"Read directory data cache","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/read_dir_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read directory data from cache — read_dir_cache","text":"","code":"read_dir_cache(type)"},{"path":"https://almartin82.github.io/vaschooldata/reference/read_dir_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read directory data from cache — read_dir_cache","text":"type Cache type (\"directory_tidy\" \"directory_raw\")","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/read_dir_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read directory data from cache — read_dir_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Handles various markers suppressed data formatting issues.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/vaschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/select_standard_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Select standard columns for output — select_standard_columns","title":"Select standard columns for output — select_standard_columns","text":"Select standard columns output","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/select_standard_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select standard columns for output — select_standard_columns","text":"","code":"select_standard_columns(df)"},{"path":"https://almartin82.github.io/vaschooldata/reference/select_standard_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select standard columns for output — select_standard_columns","text":"df Data frame processed data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/select_standard_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select standard columns for output — select_standard_columns","text":"Data frame standard columns","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/standardize_grad_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize graduation data column names — standardize_grad_columns","title":"Standardize graduation data column names — standardize_grad_columns","text":"Converts raw VDOE column names standardized lowercase_snake_case.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/standardize_grad_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize graduation data column names — standardize_grad_columns","text":"","code":"standardize_grad_columns(raw_data, era)"},{"path":"https://almartin82.github.io/vaschooldata/reference/standardize_grad_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize graduation data column names — standardize_grad_columns","text":"raw_data Raw data frame era Data era (\"v1\" \"v2\")","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/standardize_grad_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize graduation data column names — standardize_grad_columns","text":"Data frame standardized column names","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2023, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy graduation rate data — tidy_graduation","title":"Tidy graduation rate data — tidy_graduation","text":"Converts processed graduation data wide long (tidy) format. Pivots diploma type columns rows.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy graduation rate data — tidy_graduation","text":"","code":"tidy_graduation(processed_data)"},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy graduation rate data — tidy_graduation","text":"processed_data Processed data process_graduation()","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/tidy_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy graduation rate data — tidy_graduation","text":"Long-format tibble diploma_type column","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/validate_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate year parameter — validate_year","title":"Validate year parameter — validate_year","text":"Checks provided year within valid range.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/validate_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate year parameter — validate_year","text":"","code":"validate_year(end_year, min_year = NULL, max_year = NULL)"},{"path":"https://almartin82.github.io/vaschooldata/reference/validate_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate year parameter — validate_year","text":"end_year School year end validate min_year Minimum valid year (default get_available_years()) max_year Maximum valid year (default get_available_years())","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/validate_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate year parameter — validate_year","text":"NULL (throws error invalid)","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"Downloads processes school enrollment data Virginia Department Education (VDOE). Provides functions fetching Fall Membership enrollment data directly VDOE transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations get_available_years Get list available data years","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"Virginia uses hierarchical ID system: Division IDs: 7 characters (e.g., 5100180 = Alexandria City) School IDs: 12 characters (division ID + 5-digit school number) Virginia 132 school divisions (equivalent districts states).","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"Data sourced exclusively : VDOE Fall Membership: https://www.doe.virginia.gov/data-policy-funding/data-reports/statistics-reports/enrollment-demographics Note: package use federal data sources (NCES, Urban Institute, etc.).","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":"data-availability","dir":"Reference","previous_headings":"","what":"Data Availability","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"Years: 2016-2024 (9 years VDOE School Quality Profiles) Aggregation levels: State, Division (District), School Demographics: Race/ethnicity (7 categories), Sex, Economically Disadvantaged, etc. Grade levels: PK 12, plus ungraded TOTAL","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":"demographics","dir":"Reference","previous_headings":"","what":"Demographics","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"VDOE provides enrollment data broken : Race/ethnicity: White, Black, Hispanic, Asian, Native American, Pacific Islander, Multiracial Gender: Male, Female Special populations: Economically Disadvantaged, Students Disabilities, English Learners","code":""},{"path":[]},{"path":"https://almartin82.github.io/vaschooldata/reference/vaschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"vaschooldata: Fetch and Process Virginia School Data — vaschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/vaschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/write_dir_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write directory data to cache — write_dir_cache","title":"Write directory data to cache — write_dir_cache","text":"Write directory data cache","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/write_dir_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write directory data to cache — write_dir_cache","text":"","code":"write_dir_cache(df, type)"},{"path":"https://almartin82.github.io/vaschooldata/reference/write_dir_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write directory data to cache — write_dir_cache","text":"df Data frame cache type Cache type (\"directory_tidy\" \"directory_raw\")","code":""},{"path":"https://almartin82.github.io/vaschooldata/reference/write_dir_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write directory data to cache — write_dir_cache","text":"Invisibly returns cache path","code":""}]
